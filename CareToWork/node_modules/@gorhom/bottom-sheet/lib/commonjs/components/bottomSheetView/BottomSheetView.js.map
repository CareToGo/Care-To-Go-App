{"version":3,"sources":["BottomSheetView.tsx"],"names":["BottomSheetViewComponent","focusHook","useFocusHook","useEffect","enableFooterMarginAdjustment","style","children","rest","animatedScrollableContentOffsetY","animatedScrollableType","animatedFooterHeight","containerStylePaddingBottom","flattenStyle","StyleSheet","flatten","paddingBottom","containerAnimatedStyle","value","containerStyle","handleSettingScrollable","SCROLLABLE_TYPE","VIEW","BottomSheetView","displayName"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAGA,SAASA,wBAAT,CAAkC;AAChCC,EAAAA,SAAS,EAAEC,YAAY,GAAGC,gBADM;AAEhCC,EAAAA,4BAA4B,GAAG,KAFC;AAGhCC,EAAAA,KAHgC;AAIhCC,EAAAA,QAJgC;AAKhC,KAAGC;AAL6B,CAAlC,EAMyB;AACvB;AACA,QAAM;AACJC,IAAAA,gCADI;AAEJC,IAAAA,sBAFI;AAGJC,IAAAA;AAHI,MAIF,oCAJJ,CAFuB,CAQvB;;AACA,QAAMC,2BAA2B,GAAG,oBAAQ,MAAM;AAChD,UAAMC,YAAY,GAAGC,wBAAWC,OAAX,CAAmBT,KAAnB,CAArB;;AACA,UAAMU,aAAa,GACjBH,YAAY,IAAI,mBAAmBA,YAAnC,GACIA,YAAY,CAACG,aADjB,GAEI,CAHN;AAIA,WAAO,OAAOA,aAAP,KAAyB,QAAzB,GAAoCA,aAApC,GAAoD,CAA3D;AACD,GAPmC,EAOjC,CAACV,KAAD,CAPiC,CAApC;AAQA,QAAMW,sBAAsB,GAAG,6CAC7B,OAAO;AACLD,IAAAA,aAAa,EAAEX,4BAA4B,GACvCM,oBAAoB,CAACO,KAArB,GAA6BN,2BADU,GAEvCA;AAHC,GAAP,CAD6B,EAM7B,CAACA,2BAAD,EAA8BP,4BAA9B,CAN6B,CAA/B;AAQA,QAAMc,cAAc,GAAG,oBACrB,MAAM,CAACb,KAAD,EAAQW,sBAAR,CADe,EAErB,CAACX,KAAD,EAAQW,sBAAR,CAFqB,CAAvB,CAzBuB,CA8BvB;;AACA,QAAMG,uBAAuB,GAAG,wBAAY,MAAM;AAChDX,IAAAA,gCAAgC,CAACS,KAAjC,GAAyC,CAAzC;AACAR,IAAAA,sBAAsB,CAACQ,KAAvB,GAA+BG,2BAAgBC,IAA/C;AACD,GAH+B,EAG7B,CAACb,gCAAD,EAAmCC,sBAAnC,CAH6B,CAAhC,CA/BuB,CAoCvB;;AACAP,EAAAA,YAAY,CAACiB,uBAAD,CAAZ,CArCuB,CAuCvB;;AACA,sBACE,6BAAC,8BAAD,CAAU,IAAV;AAAe,IAAA,KAAK,EAAED;AAAtB,KAA0CX,IAA1C,GACGD,QADH,CADF;AAKD;;AAED,MAAMgB,eAAe,gBAAG,iBAAKtB,wBAAL,CAAxB;AACAsB,eAAe,CAACC,WAAhB,GAA8B,iBAA9B;eAEeD,e","sourcesContent":["import React, { memo, useEffect, useCallback, useMemo } from 'react';\nimport { StyleSheet } from 'react-native';\nimport Animated, { useAnimatedStyle } from 'react-native-reanimated';\nimport { SCROLLABLE_TYPE } from '../../constants';\nimport { useBottomSheetInternal } from '../../hooks';\nimport type { BottomSheetViewProps } from './types';\n\nfunction BottomSheetViewComponent({\n  focusHook: useFocusHook = useEffect,\n  enableFooterMarginAdjustment = false,\n  style,\n  children,\n  ...rest\n}: BottomSheetViewProps) {\n  // hooks\n  const {\n    animatedScrollableContentOffsetY,\n    animatedScrollableType,\n    animatedFooterHeight,\n  } = useBottomSheetInternal();\n\n  // styles\n  const containerStylePaddingBottom = useMemo(() => {\n    const flattenStyle = StyleSheet.flatten(style);\n    const paddingBottom =\n      flattenStyle && 'paddingBottom' in flattenStyle\n        ? flattenStyle.paddingBottom\n        : 0;\n    return typeof paddingBottom === 'number' ? paddingBottom : 0;\n  }, [style]);\n  const containerAnimatedStyle = useAnimatedStyle(\n    () => ({\n      paddingBottom: enableFooterMarginAdjustment\n        ? animatedFooterHeight.value + containerStylePaddingBottom\n        : containerStylePaddingBottom,\n    }),\n    [containerStylePaddingBottom, enableFooterMarginAdjustment]\n  );\n  const containerStyle = useMemo(\n    () => [style, containerAnimatedStyle],\n    [style, containerAnimatedStyle]\n  );\n\n  // callback\n  const handleSettingScrollable = useCallback(() => {\n    animatedScrollableContentOffsetY.value = 0;\n    animatedScrollableType.value = SCROLLABLE_TYPE.VIEW;\n  }, [animatedScrollableContentOffsetY, animatedScrollableType]);\n\n  // effects\n  useFocusHook(handleSettingScrollable);\n\n  //render\n  return (\n    <Animated.View style={containerStyle} {...rest}>\n      {children}\n    </Animated.View>\n  );\n}\n\nconst BottomSheetView = memo(BottomSheetViewComponent);\nBottomSheetView.displayName = 'BottomSheetView';\n\nexport default BottomSheetView;\n"]}